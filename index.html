<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Shop — Interactive UI</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa6b2; --accent:#00b894; --glass:rgba(255,255,255,0.04);
      --radius:14px; --gap:14px; --max-width:1200px;
      --shadow: 0 6px 20px rgba(2,6,23,0.6);
      --glass-2: rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#e6eef6;background:linear-gradient(180deg,#061021 0%, #0b1530 100%);-webkit-font-smoothing:antialiased}
    .app{max-width:var(--max-width);margin:36px auto;padding:24px;}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:20px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#4dd0e1);display:flex;align-items:center;justify-content:center;font-weight:700;color:#042;box-shadow:var(--shadow)}
    h1{font-size:20px;margin:0}
    nav a{color:white;margin:0 10px;text-decoration:none;font-weight:600;cursor:pointer}
    nav a:hover{text-decoration:underline}
    .controls{display:flex;gap:12px;align-items:center}
    .search{padding:8px 12px;border-radius:10px;border:1px solid var(--glass);background:transparent;color:inherit;min-width:200px}
    .btn{background:var(--accent);border:none;color:#042;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
    .layout{display:grid;grid-template-columns:260px 1fr 360px;gap:var(--gap)}
    .sidebar{background:linear-gradient(180deg,var(--card),#081021);padding:16px;border-radius:14px;box-shadow:var(--shadow);height:fit-content}
    .card{background:linear-gradient(180deg,var(--glass), transparent);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .section-title{font-size:13px;color:var(--muted);margin-bottom:8px}
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .product{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:8px}
    .img{height:140px;border-radius:8px;display:grid;place-items:center;background:#091523;overflow:hidden}
    .img img{max-width:100%;max-height:100%;object-fit:cover}
    .info-section{display:none;padding:20px;background:var(--card);border-radius:14px;box-shadow:var(--shadow);margin-top:20px}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo">MS</div>
        <div>
          <h1>Mini Shop</h1>
          <div class="small">A tiny interactive shopping UI demo</div>
        </div>
      </div>

      <nav>
        <a onclick="showPage('shop')">Home</a>
        <a onclick="showPage('about')">About</a>
        <a onclick="showPage('contact')">Contact</a>
      </nav>

      <div class="controls" id="shopControls">
        <input id="search" class="search" placeholder="Search products, e.g. headphones" />
        <button id="clearFilters" class="btn">Clear</button>
        <button id="viewCartBtn" class="btn">View Cart (<span id="cartCount">0</span>)</button>
      </div>
    </header>

    <!-- Shop Section -->
    <main class="layout" id="shopSection">
      <aside class="sidebar">
        <div class="card filters">
          <div class="section-title">Categories</div>
          <div id="categoryList"></div>
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <div class="section-title">Price (max): <span id="priceLabel">₹1000</span></div>
          <div class="price-range">
            <input id="priceRange" type="range" min="100" max="20000" step="50" value="20000" />
          </div>
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <div class="section-title">Sort</div>
          <select id="sortby" style="width:100%;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.03)">
            <option value="default">Recommended</option>
            <option value="price-asc">Price: Low → High</option>
            <option value="price-desc">Price: High → Low</option>
            <option value="rating-desc">Top Rated</option>
          </select>
        </div>
      </aside>

      <section>
        <div class="card" style="margin-bottom:12px;display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="small">Showing <strong id="productCount">0</strong> products</div>
            <div class="small" id="activeFilters"></div>
          </div>
          <div class="meta small">
            <div class="rating">Free shipping over ₹999</div>
          </div>
        </div>

        <div id="products" class="products"></div>
      </section>

      <aside class="cart" id="cart">
        <h3 style="margin:6px 0">Your Cart</h3>
        <div id="cartItems" class="cart-items"></div>
        <div id="cartEmpty" class="empty">Your cart is empty — add some products!</div>
        <div class="total-row">
          <div class="small">Total</div>
          <div style="font-weight:800">₹<span id="cartTotal">0</span></div>
        </div>
        <button id="checkoutBtn" class="checkout">Checkout</button>
      </aside>
    </main>

    <!-- About Section -->
    <div id="aboutSection" class="info-section">
      <h2>About Our Products</h2>
      <p>Welcome to <strong>Mini Shop</strong>, your one-stop destination for handy tech accessories and gadgets.</p>
      <ul>
        <li><strong>Wireless Headphones</strong> — immersive audio on the go</li>
        <li><strong>Mechanical Keyboard</strong> — responsive typing with style</li>
        <li><strong>Gaming Mouse</strong> — precision and speed for every click</li>
        <li><strong>Bluetooth Speaker</strong> — portable sound anywhere</li>
        <li><strong>4K Monitor</strong> — vibrant visuals for work and play</li>
        <li><strong>USB-C Hub</strong> — expand your connectivity instantly</li>
        <li><strong>Fitness Band</strong> — track your activity and health</li>
        <li><strong>Webcam</strong> — sharp video for meetings and streams</li>
      </ul>
      <p>We focus on bringing compact, practical, and stylish products that make your digital life easier and more fun.</p>
    </div>

    <!-- Contact Section -->
    <div id="contactSection" class="info-section">
      <h2>Contact Us</h2>
      <p>We’d love to hear from you! For inquiries, feedback, or support, please reach out using the details below:</p>
      <ul>
        <li><strong>Email:</strong> support@minishop-demo.com</li>
        <li><strong>Phone:</strong> +91 98765 43210</li>
      </ul>
      <p>Our team will respond as soon as possible. Thank you for visiting Mini Shop!</p>
    </div>

    <footer>Built with ❤ — Mini Shop</footer>
  </div>

  <script>
    const PRODUCTS = [
      {id:1,title:'Wireless Headphones',category:'Audio',price:1799, rating:4.6,img:'Wireless headphones.jpeg'},
      {id:2,title:'Mechanical Keyboard',category:'Accessories',price:3499,rating:4.8,img:'Keyboard.jpg'},
      {id:3,title:'Gaming Mouse',category:'Accessories',price:1299,rating:4.4,img:'Mouse.webp'},
      {id:4,title:'Bluetooth Speaker',category:'Audio',price:999,rating:4.1,img:'Bluetooth speaker.webp'},
      {id:5,title:'4K Monitor',category:'Displays',price:17999,rating:4.7,img:'Monitor.jpeg'},
      {id:6,title:'USB-C Hub',category:'Accessories',price:899,rating:4.0,img:'USB c hub.jpg'},
      {id:7,title:'Fitness Band',category:'Wearables',price:2499,rating:4.2,img:'Fitness band.webp'},
      {id:8,title:'Webcam 1080p',category:'Accessories',price:2199,rating:4.0,img:'Web cam.jpeg'}
    ];

    let state = {products: PRODUCTS.slice(),category: null,q: '',maxPrice: 20000,sort: 'default',cart: {}};

    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    function format(n){return n.toLocaleString('en-IN')}

    function renderCategories(){
      const cats = [...new Set(PRODUCTS.map(p=>p.category))];
      const container = $('#categoryList'); container.innerHTML='';
      const all = document.createElement('label');
      all.innerHTML = `<input type="radio" name="cat" value="ALL" ${state.category===null?'checked':''}/> <span>All</span>`;
      all.onclick = ()=>{ state.category = null; applyFilters(); }
      container.appendChild(all);
      cats.forEach(c=>{
        const el = document.createElement('label');
        el.innerHTML = `<input type="radio" name="cat" value="${c}" ${state.category===c?'checked':''}/> <span>${c}</span>`;
        el.onclick = ()=>{ state.category = c; applyFilters(); }
        container.appendChild(el);
      })
    }

    function renderProducts(list){
      const wrap = $('#products'); wrap.innerHTML='';
      if(list.length===0){ wrap.innerHTML = '<div class="empty">No products found</div>'; $('#productCount').textContent = 0; return }
      $('#productCount').textContent = list.length;
      list.forEach(p=>{
        const card = document.createElement('div'); card.className='product';
        card.innerHTML = `
          <div class="img"><img src="${p.img}" alt="${p.title}"/></div>
          <div>
            <div class="p-title">${p.title}</div>
            <div class="p-desc">${p.category} — ${p.rating} ★</div>
          </div>
          <div class="price-row">
            <div class="price">₹${format(p.price)}</div>
            <div class="meta">
              <button data-id="${p.id}" class="btn add">Add</button>
            </div>
          </div>
        `;
        wrap.appendChild(card);
      })
      $$('.add').forEach(b=>b.addEventListener('click', (e)=>{
        const id = +e.currentTarget.dataset.id; addToCart(id);
      }))
    }

    function addToCart(id, qty=1){
      state.cart[id] = (state.cart[id]||0) + qty; renderCart();
    }

    function renderCart(){
      const itemsWrap = $('#cartItems'); itemsWrap.innerHTML='';
      const keys = Object.keys(state.cart).map(k=>+k);
      if(keys.length===0){ $('#cartEmpty').style.display='block'; $('#cartTotal').textContent = 0; $('#cartCount').textContent = 0; return }
      $('#cartEmpty').style.display='none';
      let total = 0;
      keys.forEach(id=>{
        const p = PRODUCTS.find(x=>x.id===id); const qty = state.cart[id];
        total += p.price*qty;
        const node = document.createElement('div'); node.className='cart-item';
        node.innerHTML = `
          <img src="${p.img}" alt="${p.title}" style="width:50px;height:50px" />
          <div style="flex:1">${p.title} × ${qty}</div>
          <div>₹${format(p.price*qty)}</div>
        `;
        itemsWrap.appendChild(node);
      })
      $('#cartTotal').textContent = format(total);
      $('#cartCount').textContent = keys.reduce((s,id)=>s+state.cart[id],0);
    }

    function applyFilters(){
      let out = PRODUCTS.filter(p=>p.price<=state.maxPrice);
      if(state.category) out = out.filter(p=>p.category===state.category);
      if(state.q && state.q.trim().length>0){ const q=state.q.toLowerCase(); out = out.filter(p=>p.title.toLowerCase().includes(q) || p.category.toLowerCase().includes(q)); }
      renderProducts(out);
      const af = [];
      if(state.category) af.push(state.category);
      if(state.q) af.push('"'+state.q+'"');
      af.push('≤ ₹'+format(state.maxPrice));
      $('#activeFilters').textContent = af.join(' • ');
    }

    function showPage(page){
      // Hide all sections
      document.getElementById('shopSection').style.display = 'none';
      document.getElementById('aboutSection').style.display = 'none';
      document.getElementById('contactSection').style.display = 'none';
      // Show the selected
      if(page==='shop'){
        document.getElementById('shopSection').style.display = 'grid';
        document.getElementById('shopControls').style.display = 'flex';
      } else {
        document.getElementById('shopControls').style.display = 'none';
        document.getElementById(page+'Section').style.display = 'block';
      }
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      renderCategories();
      applyFilters();
      renderCart();
      showPage('shop');
    });
  </script>

<!-- Checkout Modal (added by assistant) -->
<div id="checkoutModal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:1000">
  <div style="background:var(--card);padding:20px;border-radius:12px;text-align:center;max-width:320px">
    <h3>Thank you for your purchase!</h3>
    <p>Your order has been placed successfully.</p>
    <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
      <button id="closeCheckoutModal" class="btn">Close</button>
    </div>
  </div>
</div>

<script>
// Minimal, non-destructive checkout handler
(function(){
  // Wait until DOM is ready (script is inserted at end of body, but ensure state is available)
  function setup(){
    var checkoutBtn = document.getElementById('checkoutBtn');
    var closeBtn = document.getElementById('closeCheckoutModal');
    var modal = document.getElementById('checkoutModal');
    if(!checkoutBtn || !closeBtn || !modal) return;

    checkoutBtn.addEventListener('click', function(){
      try {
        var keys = Object.keys(state.cart || {});
        if(keys.length === 0){
          alert('Your cart is empty.');
          return;
        }
        // show modal, then clear cart and re-render cart UI
        modal.style.display = 'flex';
        state.cart = {}; // clear cart to simulate order placed
        if(typeof renderCart === 'function') renderCart();
        if(typeof renderFullCart === 'function') renderFullCart();
      } catch (e) {
        console.error('Checkout handler error', e);
        alert('An error occurred during checkout.');
      }
    });

    closeBtn.addEventListener('click', function(){
      modal.style.display = 'none';
      if(typeof showPage === 'function') showPage('shop');
    });
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', setup);
  } else setup();
})();
</script>
<!-- End of checkout modal -->

</body>
</html>
